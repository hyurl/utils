{"version":3,"file":"isEmpty.js","sources":["../isEmpty.ts"],"sourcesContent":["import { isArrayLike, isBufferLike, isCollectionLike } from \"is-like\";\nconst BaseEmptyPrimitives = [\"\", NaN, null, void 0];\nconst EmptyPrimitives = [...BaseEmptyPrimitives, 0, false];\nif (typeof BigInt === \"function\")\n    EmptyPrimitives.push(BigInt(\"0\"));\n/**\n * Checks if the value resolves to an empty object or a falsy value.\n */\nexport default function isEmpty(value, deep = false) {\n    return test(value, Boolean(deep), EmptyPrimitives);\n}\nfunction test(value, deep, emptyPrimitives) {\n    if (emptyPrimitives.includes(value))\n        return true;\n    if (typeof value === \"object\") {\n        if (value instanceof RegExp) {\n            return false;\n        }\n        else if (value instanceof Date) {\n            return String(value) === \"Invalid Date\";\n        }\n        else if (value instanceof Error) {\n            return value.message.length === 0;\n        }\n        else if (isBufferLike(value)) {\n            return value.byteLength === 0;\n        }\n        else if (isArrayLike(value, true)) {\n            if (value.length === 0) {\n                return true;\n            }\n            else if (!deep) {\n                return false;\n            }\n            else {\n                for (let i = 0, len = value.length; i < len; ++i) {\n                    if (!test(value[i], deep, BaseEmptyPrimitives)) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n        }\n        else if (isCollectionLike(value, true)) {\n            if (value.size === 0) {\n                return true;\n            }\n            else if (!deep) {\n                return false;\n            }\n            else {\n                if (value instanceof Map) {\n                    for (let v of value.values()) {\n                        if (!test(v, deep, BaseEmptyPrimitives)) {\n                            return false;\n                        }\n                    }\n                    return true;\n                }\n                else if (value instanceof Set) {\n                    for (let v of value) {\n                        if (!test(v, deep, BaseEmptyPrimitives)) {\n                            return false;\n                        }\n                    }\n                    return true;\n                }\n                return false;\n            }\n        }\n        else {\n            let keys = Reflect.ownKeys(value);\n            if (keys.length === 0) {\n                return true;\n            }\n            else if (!deep) {\n                return false;\n            }\n            else {\n                return keys.every(k => test(value[k], deep, BaseEmptyPrimitives));\n            }\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=isEmpty.js.map"],"names":[],"mappings":"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"}