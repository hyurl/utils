{"version":3,"file":"count.js","sources":["../count.ts"],"sourcesContent":["import { isArrayLike, isBufferLike, isCollectionLike } from \"is-like\";\nconst encoder = new TextEncoder();\nexport default count;\nfunction count(target, option = void 0) {\n    if (typeof target === \"string\") {\n        if (typeof option === \"string\") {\n            if (!option) {\n                return target.length + 1;\n            }\n            else if (!target) {\n                return 0;\n            }\n            return target.split(option).length - 1;\n        }\n        else if (option === true) {\n            if (typeof Buffer === \"function\" &&\n                typeof Buffer.byteLength === \"function\") {\n                return Buffer.byteLength(target);\n            }\n            else {\n                return encoder.encode(target).byteLength;\n            }\n        }\n        else {\n            return target.length;\n        }\n    }\n    else if (isArrayLike(target, true)) {\n        if (arguments.length === 2) {\n            let times = 0;\n            for (let i = target.length; i--;) {\n                // treat 0 equals -0 and NaN equals NaN\n                if (target[i] === option || Object.is(target[i], option)) {\n                    times++;\n                }\n            }\n            return times;\n        }\n        else {\n            return target.length;\n        }\n    }\n    else if (isBufferLike(target)) {\n        return target.byteLength;\n    }\n    else if (isCollectionLike(target, true)) {\n        return target.size;\n    }\n    else {\n        return Object.keys(target).length;\n    }\n}\n//# sourceMappingURL=count.js.map"],"names":["isArrayLike","isBufferLike","isCollectionLike"],"mappings":";;AACA,MAAM,OAAO,GAAG,IAAI,WAAW,EAAE,CAAC;AAElC,SAAS,KAAK,CAAC,MAAM,EAAE,MAAM,GAAG,KAAK,CAAC,EAAE;AACxC,IAAI,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;AACpC,QAAQ,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;AACxC,YAAY,IAAI,CAAC,MAAM,EAAE;AACzB,gBAAgB,OAAO,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;AACzC,aAAa;AACb,iBAAiB,IAAI,CAAC,MAAM,EAAE;AAC9B,gBAAgB,OAAO,CAAC,CAAC;AACzB,aAAa;AACb,YAAY,OAAO,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;AACnD,SAAS;AACT,aAAa,IAAI,MAAM,KAAK,IAAI,EAAE;AAClC,YAAY,IAAI,OAAO,MAAM,KAAK,UAAU;AAC5C,gBAAgB,OAAO,MAAM,CAAC,UAAU,KAAK,UAAU,EAAE;AACzD,gBAAgB,OAAO,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;AACjD,aAAa;AACb,iBAAiB;AACjB,gBAAgB,OAAO,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC;AACzD,aAAa;AACb,SAAS;AACT,aAAa;AACb,YAAY,OAAO,MAAM,CAAC,MAAM,CAAC;AACjC,SAAS;AACT,KAAK;AACL,SAAS,IAAIA,aAAW,CAAC,MAAM,EAAE,IAAI,CAAC,EAAE;AACxC,QAAQ,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;AACpC,YAAY,IAAI,KAAK,GAAG,CAAC,CAAC;AAC1B,YAAY,KAAK,IAAI,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,GAAG;AAC9C;AACA,gBAAgB,IAAI,MAAM,CAAC,CAAC,CAAC,KAAK,MAAM,IAAI,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,EAAE;AAC1E,oBAAoB,KAAK,EAAE,CAAC;AAC5B,iBAAiB;AACjB,aAAa;AACb,YAAY,OAAO,KAAK,CAAC;AACzB,SAAS;AACT,aAAa;AACb,YAAY,OAAO,MAAM,CAAC,MAAM,CAAC;AACjC,SAAS;AACT,KAAK;AACL,SAAS,IAAIC,cAAY,CAAC,MAAM,CAAC,EAAE;AACnC,QAAQ,OAAO,MAAM,CAAC,UAAU,CAAC;AACjC,KAAK;AACL,SAAS,IAAIC,kBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,EAAE;AAC7C,QAAQ,OAAO,MAAM,CAAC,IAAI,CAAC;AAC3B,KAAK;AACL,SAAS;AACT,QAAQ,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC;AAC1C,KAAK;AACL;;;;"}